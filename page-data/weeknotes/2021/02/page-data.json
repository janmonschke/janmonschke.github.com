{"componentChunkName":"component---src-templates-blog-post-js","path":"/weeknotes/2021/02/","result":{"data":{"site":{"siteMetadata":{"title":"Jan Monschke","author":"Jan Monschke"}},"markdownRemark":{"id":"8dd369e2-5995-5bcd-b231-4b43cfb73615","excerpt":"Side Projects Ping Made a lot of progress this week modeling a core user flow with XState. XState has become my go-to tool for modeling complex flows after‚Ä¶","html":"<h2>Side Projects</h2>\n<h3>Ping</h3>\n<p>Made a lot of progress this week modeling a core user flow with <a href=\"https://xstate.js.org/\">XState</a>. XState has become my go-to tool for modeling complex flows after great the experience I had using it for build <a href=\"https://creators.soundcloud.com/mastering-on-soundcloud\">SoundCloud mastering</a>. The flow that I was working on in Ping involves checking browser support, sign-in state (with a separate machine that models sign-in/sign-up), checking resource access, before the user lands on the actual screen.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2a38639e8b5c103fb458a25200dbdcac/e8998/02-xstate.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 32%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAGABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAIF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB3AUD/8QAFhAAAwAAAAAAAAAAAAAAAAAAABAR/9oACAEBAAEFAiL/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAY/An//xAAXEAEAAwAAAAAAAAAAAAAAAAABEBFx/9oACAEBAAE/IUvJf//aAAwDAQACAAMAAAAQc8//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAZEAEBAQEBAQAAAAAAAAAAAAABEQAhUWH/2gAIAQEAAT8QVRnxgcFSeagQOb//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/2a38639e8b5c103fb458a25200dbdcac/507e6/02-xstate.webp 200w,\n/static/2a38639e8b5c103fb458a25200dbdcac/28a80/02-xstate.webp 400w,\n/static/2a38639e8b5c103fb458a25200dbdcac/8d2ea/02-xstate.webp 800w,\n/static/2a38639e8b5c103fb458a25200dbdcac/68fc1/02-xstate.webp 1200w,\n/static/2a38639e8b5c103fb458a25200dbdcac/43d96/02-xstate.webp 1600w,\n/static/2a38639e8b5c103fb458a25200dbdcac/04bf3/02-xstate.webp 1722w\"\n              sizes=\"(max-width: 800px) 100vw, 800px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/2a38639e8b5c103fb458a25200dbdcac/37402/02-xstate.jpg 200w,\n/static/2a38639e8b5c103fb458a25200dbdcac/4cda9/02-xstate.jpg 400w,\n/static/2a38639e8b5c103fb458a25200dbdcac/c60e9/02-xstate.jpg 800w,\n/static/2a38639e8b5c103fb458a25200dbdcac/6c738/02-xstate.jpg 1200w,\n/static/2a38639e8b5c103fb458a25200dbdcac/56dca/02-xstate.jpg 1600w,\n/static/2a38639e8b5c103fb458a25200dbdcac/e8998/02-xstate.jpg 1722w\"\n            sizes=\"(max-width: 800px) 100vw, 800px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/2a38639e8b5c103fb458a25200dbdcac/c60e9/02-xstate.jpg\"\n            alt=\"State diagram of the user flow\"\n            title=\"State diagram of the user flow\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>What I love about XState is that I can visualize the state machine on their <a href=\"https://xstate.js.org/viz/\">viz</a> page. It not only helps me to understand the flow better but it also allows me to simulate scenarios by interacting with the machine. It might look a bit messy at first, but in code it‚Äôs a breeze to work with ‚ù§Ô∏è</p>\n<p>Authentication was easy enough to set up with Firebase but it‚Äôs not super straight forward to share the Firebase session with next.js so I think I will rely on the Firebase client for rendering 404s and such. There are a couple of solutions that I found that add the firebase auth token to a cookie which is then consumed by next to use for prefetching the data. However, that token times out after 10 minutes and the workraound of keeping that token up to date in an interval feels rather britle to me at this point. I will use that token for API-routes though because I can refresh it before the request to make sure it‚Äôs valid.</p>\n<h2>Life</h2>\n<p>We both back at work now after a two week stay-at-home vacation. Usually during the winter break we are visiting both our families which always makes for a very rewarding, but also stressful trip. It felt good to not have to rush through Europe and to take the time for the family in different ways. This year in lengthy video calls with televised gift giving and shared Christmas dinners. Everybody was eager to make the best of the situation and we even managed to get some more further-away relatives to join the Christmas calls.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6aacecfbcd082ee3be335f13b822090a/4b075/02-christmas-dinner.webp\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46%; position: relative; bottom: 0; left: 0; background-image: url('data:image/webp;base64,UklGRoQAAABXRUJQVlA4IHgAAABQBACdASoUAAkAPtFUo0uoJKMhsAgBABoJaACdMoAlrxZZXJYOhDQepPIEAP6o5o4xB3A7eIPg3Y5ff7iBh4dJdRJ7kZKsI/PotigegDVOH5aEgu5SPdhsxttB1540Rncg90TZfFJpPAvs/nNaYODficronWsKAAA='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/6aacecfbcd082ee3be335f13b822090a/507e6/02-christmas-dinner.webp 200w,\n/static/6aacecfbcd082ee3be335f13b822090a/28a80/02-christmas-dinner.webp 400w,\n/static/6aacecfbcd082ee3be335f13b822090a/8d2ea/02-christmas-dinner.webp 800w,\n/static/6aacecfbcd082ee3be335f13b822090a/68fc1/02-christmas-dinner.webp 1200w,\n/static/6aacecfbcd082ee3be335f13b822090a/4b075/02-christmas-dinner.webp 1280w\"\n              sizes=\"(max-width: 800px) 100vw, 800px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/6aacecfbcd082ee3be335f13b822090a/507e6/02-christmas-dinner.webp 200w,\n/static/6aacecfbcd082ee3be335f13b822090a/28a80/02-christmas-dinner.webp 400w,\n/static/6aacecfbcd082ee3be335f13b822090a/8d2ea/02-christmas-dinner.webp 800w,\n/static/6aacecfbcd082ee3be335f13b822090a/68fc1/02-christmas-dinner.webp 1200w,\n/static/6aacecfbcd082ee3be335f13b822090a/4b075/02-christmas-dinner.webp 1280w\"\n            sizes=\"(max-width: 800px) 100vw, 800px\"\n            type=\"image/webp\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/6aacecfbcd082ee3be335f13b822090a/8d2ea/02-christmas-dinner.webp\"\n            alt=\"Our Christmas dinner\"\n            title=\"Our Christmas dinner\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>The situation also allowed us to make a vegetarian Christmas dinner. It took us 4 hours to make the <a href=\"https://www.avantgardevegan.com/recipes/ultimate-vegan-christmas-roast-wellington/\">vegan roast wellington</a> and the <a href=\"https://www.instagram.com/p/CH-vpLypsj3/\">sweet potato pumpkin mash</a> but it was totally worth it üòã We failed to make it vegan for the lack of vegan cheeses in the close-by supermarkets. Weirdly, it‚Äôs much easier to find great vegan cheeses in supermarkets in Paris than it is in Berlin.</p>\n<p>After the first couple of days back at work we noticed that we didn‚Äôt walk as much anymore and we went back to our bad habit of working long hours. So we decided to aim for a walking a cumulative 5km each day and to hold each other accountable to that. It did work pretty well in this first week. It‚Äôs amazing how much difference it makes to walk for half an hour to an hour. I always feel a lot less anxious and more clear and focused afterwards. I hope we‚Äôll be able to stick to that habit.</p>\n<h3>Entertainment</h3>\n<p>Speaking of habits, for board game night this week we played <a href=\"https://boardgamegeek.com/boardgame/30549/pandemic\">Pandemic</a> for the first time. It‚Äôs definitely weird to play this game while being in a global pandemic and so many of the game‚Äôs mechanics must feel so much more relatable now than ever before. What I really like about it is that it‚Äôs a collaborative game and you can only win when you play together. 10/10 would play again and again.</p>\n<p>Our listening-to-an-audio book experiment continued as well and we found that it worked pretty well while we were cooking together. So we‚Äôll keep doing that for now :) We picked up a delivery at our <a href=\"https://sterngartenodyssee.de\">food coop</a> this week and it appears to still be winter with lots of root veggies. Nothing better than hot, hearty stews in these wintery days!</p>\n<h3>Song of the week</h3>\n<p>Today I‚Äôm recommending a recording of a concert that I attended at <img src=\"https://www.radialsystem.de/?lang=en\" alt=\"Radialsystem\"> in 2015. It‚Äôs another one of those tracks that I listen to whenever I need to get into a flow. Pretty much any <img src=\"https://soundcloud.com/hiddenorchestra\" alt=\"Hidden Orchestra\"> track does that for me. It‚Äôs got that perfect blend of rhythm and atmosphere, spanning all sorts of genres along the way.</p>\n<iframe width=\"100%\" height=\"300\" scrolling=\"no\" frameborder=\"no\" src=\"https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/227927677&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true&visual=true\" loading=\"lazy\"></iframe>","frontmatter":{"title":"Weeknotes 2/2021","type":"weeknote","date":"January 10, 2021","pomodoros":null,"keywords":["ping","xstate","firebase auth","nextjs","work","board games","cooking"],"image":{"childImageSharp":{"gatsbyImageData":{"layout":"fixed","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/2a38639e8b5c103fb458a25200dbdcac/3662b/02-xstate.jpg","srcSet":"/static/2a38639e8b5c103fb458a25200dbdcac/3662b/02-xstate.jpg 800w,\n/static/2a38639e8b5c103fb458a25200dbdcac/18230/02-xstate.jpg 1600w","sizes":"800px"},"sources":[{"srcSet":"/static/2a38639e8b5c103fb458a25200dbdcac/76918/02-xstate.webp 800w,\n/static/2a38639e8b5c103fb458a25200dbdcac/3dc25/02-xstate.webp 1600w","type":"image/webp","sizes":"800px"}]},"width":800,"height":255}}}}},"webmentions":{"edges":[]},"likes":{"edges":[{"node":{"author":{"name":"Nikita","photo":"https://webmention.io/avatar/pbs.twimg.com/37522d75263644f205869b2cb930da842ccd47490de0a7f52531b790c76e330d.jpg","url":"https://twitter.com/nikitavoloboev"},"id":"686006c2-86de-5d5c-9977-d8d09dd9ddc5"}},{"node":{"author":{"name":"julian","photo":"https://webmention.io/avatar/pbs.twimg.com/7645c3c0388fed4ebd7b89694a78e125adaafc1a2289fdbd9311e4b294041f76.jpg","url":"https://twitter.com/julianpanzer"},"id":"35307afb-db63-53a4-8ac3-a74f6ac942b2"}},{"node":{"author":{"name":"David Heidrich","photo":"https://webmention.io/avatar/pbs.twimg.com/31c03c80db185540a2b48c37f839a8f710ec5b5e46881406a8631a1142963caa.jpg","url":"https://twitter.com/BowlingX"},"id":"e7d98cb7-53c4-5a81-98fd-b88c92873df9"}},{"node":{"author":{"name":"Sona/Soeun Lee","photo":"https://webmention.io/avatar/pbs.twimg.com/acca9bf92bfb627bf2cd85ff287fa60c7c062c6b32aaad965984c64655f868a1.jpg","url":"https://twitter.com/mojosoeun"},"id":"f6cb1212-c4ad-592e-99fd-43116ca7fdd1"}},{"node":{"author":{"name":"Bradley Few","photo":"https://webmention.io/avatar/pbs.twimg.com/b195f7d00ea7347649d2524e4638d02b5a8d7a9f1341e9837ab856391cd62d5e.png","url":"https://twitter.com/bradleyfew"},"id":"5a6b15c1-0a64-50ee-b88d-ff434af3302a"}},{"node":{"author":{"name":"R≈´dolfs O≈°i≈Ü≈°","photo":"https://webmention.io/avatar/pbs.twimg.com/a6c6316940e61439b6556f33c573ea381d01c1832275c4bf2c2d1454f8f01e2b.jpg","url":"https://twitter.com/rudolfs"},"id":"9354dab1-99d7-5029-ae53-d4c39c9385f7"}},{"node":{"author":{"name":"@okonet@mastodon.cloud","photo":"https://webmention.io/avatar/pbs.twimg.com/7790f7c60e6e0b502ca5ed7220de21608f2776620cd1680947b2cd05bbdbb8d0.jpg","url":"https://twitter.com/okonetchnikov"},"id":"abeb8124-0879-5bcc-8b8f-95ceb60c0c3f"}}]}},"pageContext":{"slug":"/weeknotes/2021/02/","publicUrl":"https://janmonschke.com/weeknotes/2021/02/","previous":{"fields":{"slug":"/weeknotes/2021/01/"},"frontmatter":{"title":"Weeknotes 1/2021","type":"weeknote"}},"next":{"fields":{"slug":"/weeknotes/2021/03/"},"frontmatter":{"title":"Weeknotes 3/2021","type":"weeknote"}}}},"staticQueryHashes":["1677560032","3729604799"]}